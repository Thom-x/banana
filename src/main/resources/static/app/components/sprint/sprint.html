<div class="container">
	<h2>Sprint</h2>
	<h3>Add sprint</h3>
	<form novalidate class="simple-form">
		<div class="form-group">
			<label for="sprintNumber">Sprint Number</label> <input type="text"
				class="form-control" id="sprintNumber"
				ng-model="sprintCtrl.sprint.id" readonly>
		</div>
		<div class="form-group">
			<label for="sprintStart">Sprint start</label>
			<p class="input-group">
				<input type="text" id="sprintStart" class="form-control"
					uib-datepicker-popup="dd/MM/yyyy"
					ng-model="sprintCtrl.sprint.start" is-open="openedStart"
					datepicker-options="sprintCtrl.dateOptions" ng-required="true"
					close-text="Close" /> <span class="input-group-btn" readonly>
				
				</span>
			</p>
		</div>
		<div class="form-group">
			<label for="sprintEnd">Sprint end</label>
			<p class="input-group">
				<input type="text" id="sprintEnd" class="form-control"
					uib-datepicker-popup="dd/MM/yyyy"
					ng-model="sprintCtrl.sprint.end" is-open="openedEnd"
					datepicker-options="sprintCtrl.dateOptions" ng-required="true"
					close-text="Close" /> <span class="input-group-btn" readonly>

				</span>
			</p>
		</div>
	</form>
	<h3>Stories</h3>
	<form novalidate class="simple-form">
		
		<button type="button" class="btn btn-primary"
		 ng-click="sprintCtrl.openNewStory()">
			<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Story
		</button>
		<table class="table table-hover" >
			<thead>
				<tr>
					<th>Id</th>
					<th>Complexity</th>
					<th>Start date</th>
					<th>Close date</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody >
				<tr ng-repeat="story in sprintCtrl.stories">

					<td>{{story.id}}</td>
					<td ng-If="story.id != sprintCtrl.editStoryId">{{story.complexity
						}}</td>
					<td ng-If="story.id != sprintCtrl.editStoryId">{{story.addDate
						| date : 'dd/MM/yyyy' }}</td>
					<td ng-If="story.id != sprintCtrl.editStoryId">{{story.closeDate
						| date : 'dd/MM/yyyy'}}</td>
					<td ng-If="story.id != sprintCtrl.editStoryId">
						<button class="btn btn-info "
							ng-click="sprintCtrl.editStoryId = story.id">
							<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
						</button>
						<button class="btn btn-danger "
							ng-click="sprintCtrl.removeStory(story)">
							<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
						</button>
					</td>


					<td ng-If="story.id == sprintCtrl.editStoryId"><select
						id="complexity" class="form-control" ng-model="story.complexity"
						ng-options="complexity for complexity in sprintCtrl.storyComplexities">
					</select></td>
					<td ng-If="story.id == sprintCtrl.editStoryId">
						<p class="input-group">
							<input type="text" id="sprintEnd" class="form-control"
								uib-datepicker-popup="dd/MM/yyyy" ng-model="story.addDate"
								is-open="openedAdd" datepicker-options="sprintCtrl.dateOptions"
								ng-required="true" close-text="Close" /> <span
								class="input-group-btn"><button type="button"
									class="btn btn-default" ng-click="openedAdd = !openedAdd">open</button></span>
						</p> </span>
					</td>
					<td ng-If="story.id == sprintCtrl.editStoryId">
						<p class="input-group">
							<input type="text" id="sprintEnd" class="form-control"
								uib-datepicker-popup="dd/MM/yyyy" ng-model="story.closeDate"
								is-open="openedClose" datepicker-options="sprintCtrl.dateOptions"
								ng-required="true" close-text="Close" /> <span
								class="input-group-btn"><button type="button"
									class="btn btn-default" ng-click="openedClose = !openedClose">open</button></span>
						</p> </span>
					</td>
					<td ng-If="story.id == sprintCtrl.editStoryId">
						<button class="btn btn-primary "
							ng-click="sprintCtrl.updateStory(story)">
							<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
						</button>
						<button class="btn btn-default "
							ng-click="sprintCtrl.cancelUpdateStory()">
							<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
						</button>

					</td>

				</tr>

			</tbody>
		</table>

	</form>
</div>